{% extends "base.html" %}

{% block title %}Register - NSS Management System{% endblock %}

{% block extra_css %}
<link rel="stylesheet" href="{{ url_for('static', filename='css/registration.css') }}">
{% endblock %}

{% block content %}
<div class="register-container">
    <div class="register-box">
        <h2>Volunteer Registration</h2>
        <p class="register-subtitle">Join NSS and make a difference in the community</p>

        <form method="POST" action="{{ url_for('register') }}" class="register-form" id="registerForm">
            <div class="form-section">
                <h3>Personal Information</h3>
                <div class="form-row">
                    <div class="form-group">
                        <label for="full_name">Full Name <span class="required">*</span></label>
                        <input type="text" id="full_name" name="full_name" required>
                    </div>
                    <div class="form-group">
                        <label for="gender">Gender <span class="required">*</span></label>
                        <select id="gender" name="gender" required>
                            <option value="">Select Gender</option>
                            <option value="Male">Male</option>
                            <option value="Female">Female</option>
                            <option value="Other">Other</option>
                        </select>
                    </div>
                </div>

                <div class="form-row">
                    <div class="form-group">
                        <label for="father_name">Father's Name <span class="required">*</span></label>
                        <input type="text" id="father_name" name="father_name" required>
                    </div>
                    <div class="form-group">
                        <label for="mother_name">Mother's Name <span class="required">*</span></label>
                        <input type="text" id="mother_name" name="mother_name" required>
                    </div>
                </div>

                <div class="form-row">
                    <div class="form-group">
                        <label for="date_of_birth">Date of Birth <span class="required">*</span></label>
                        <input type="date" id="date_of_birth" name="date_of_birth" required>
                    </div>
                    <div class="form-group">
                        <label for="blood_group">Blood Group <span class="required">*</span></label>
                        <select id="blood_group" name="blood_group" required>
                            <option value="">Select Blood Group</option>
                            <option value="A+">A+</option>
                            <option value="A-">A-</option>
                            <option value="B+">B+</option>
                            <option value="B-">B-</option>
                            <option value="AB+">AB+</option>
                            <option value="AB-">AB-</option>
                            <option value="O+">O+</option>
                            <option value="O-">O-</option>
                        </select>
                    </div>
                </div>

                <div class="form-row">
                    <div class="form-group">
                        <label for="adhaar_number">Aadhaar Number <span class="required">*</span></label>
                        <input type="text" id="adhaar_number" name="adhaar_number" pattern="[0-9]{12}" maxlength="12" required placeholder="12-digit Aadhaar">
                    </div>
                    <div class="form-group">
                        <label for="community">Community <span class="required">*</span></label>
                        <select id="community" name="community" required>
                            <option value="">Select Community</option>
                            <option value="General">General</option>
                            <option value="OBC">OBC</option>
                            <option value="SC">SC</option>
                            <option value="ST">ST</option>
                            <option value="Others">Others</option>
                        </select>
                    </div>
                </div>
            </div>

            <div class="form-section">
                <h3>Academic Information</h3>
                <div class="form-row">
                    <div class="form-group">
                        <label for="suc_code">SUC Code <span class="required">*</span></label>
                        <input type="text" id="suc_code" name="suc_code" required placeholder="Enter SUC Code">
                        <small class="form-help">Your login username will be your SUC Code</small>
                    </div>
                    <div class="form-group">
                        <label for="roll_no">Roll Number <span class="required">*</span></label>
                        <input type="text" id="roll_no" name="roll_no" required>
                    </div>
                </div>

                <div class="form-row">
                    <div class="form-group">
                        <label for="year">Year <span class="required">*</span></label>
                        <select id="year" name="year" required>
                            <option value="">Select Year</option>
                            <option value="1">1st Year</option>
                            <option value="2">2nd Year</option>
                            <option value="3">3rd Year</option>
                            <option value="4">4th Year</option>
                        </select>
                    </div>
                    <div class="form-group">
                        <label for="section">Section <span class="required">*</span></label>
                        <input type="text" id="section" name="section" required placeholder="e.g., A, B, C">
                    </div>
                </div>

                <div class="form-group">
                    <label for="group_name">Group/Department <span class="required">*</span></label>
                    <select id="group_name" name="group_name" required>
                        <option value="">Select Group</option>
                        <option value="Computer Science">Computer Science</option>
                        <option value="Information Technology">Information Technology</option>
                        <option value="Electronics">Electronics</option>
                        <option value="Mechanical">Mechanical</option>
                        <option value="Civil">Civil</option>
                        <option value="Electrical">Electrical</option>
                        <option value="Chemical">Chemical</option>
                        <option value="Others">Others</option>
                    </select>
                </div>
            </div>

            <div class="form-section">
                <h3>Contact Information</h3>
                <div class="form-row">
                    <div class="form-group">
                        <label for="mobile_number">Mobile Number <span class="required">*</span></label>
                        <input type="tel" id="mobile_number" name="mobile_number" pattern="[0-9]{10}" maxlength="10" required placeholder="10-digit mobile number">
                    </div>
                    <div class="form-group">
                        <label for="parent_mobile_number">Parent's Mobile Number <span class="required">*</span></label>
                        <input type="tel" id="parent_mobile_number" name="parent_mobile_number" pattern="[0-9]{10}" maxlength="10" required placeholder="10-digit mobile number">
                    </div>
                </div>

                <div class="form-group">
                    <label for="email">Email Address <span class="required">*</span></label>
                    <input type="email" id="email" name="email" required placeholder="your.email@example.com">
                </div>
            </div>

            <div class="form-note">
                <p><strong>Note:</strong> Your initial password will be the last 4 digits of your SUC Code. You can change it after your first login.</p>
                <p>Your registration will be pending until approved by the admin.</p>
            </div>

            <div class="form-actions">
                <button type="submit" class="btn btn-primary btn-large">Register</button>
                <a href="{{ url_for('login') }}" class="btn btn-secondary btn-large">Back to Login</a>
            </div>
        </form>
    </div>
</div>
{% endblock %}

{% block extra_js %}
<script>
document.getElementById('registerForm').addEventListener('submit', function(e) {
    const adhaar = document.getElementById('adhaar_number').value;
    const mobile = document.getElementById('mobile_number').value;
    const parentMobile = document.getElementById('parent_mobile_number').value;

    if (adhaar.length !== 12) {
        e.preventDefault();
        alert('Aadhaar number must be exactly 12 digits');
        return;
    }

    if (mobile.length !== 10) {
        e.preventDefault();
        alert('Mobile number must be exactly 10 digits');
        return;
    }

    if (parentMobile.length !== 10) {
        e.preventDefault();
        alert('Parent mobile number must be exactly 10 digits');
        return;
    }
});
</script>
{% endblock %}